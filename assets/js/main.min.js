var fia="USD",ethPrice=0,currency="undefined"==typeof default_currency?"USD":default_currency;function countdownsec(e){return new Date(1e3*e).toISOString().slice(-10,-5)}function CopyToClipboard(e){if(document.selection)(t=document.body.createTextRange()).moveToElementText(document.getElementById(e)),t.select().createTextRange(),document.execCommand("copy");else if(window.getSelection){var t;(t=document.createRange()).selectNode(document.getElementById(e)),window.getSelection().addRange(t),document.execCommand("copy")}}$("#buybutton").hide(),$.getJSON("https://api.coingecko.com/api/v3/simple/price?ids=ethereum,bitcoin&vs_currencies="+currency,function(e){for(var t in e.ethereum)var n=e.ethereum[t];ethPrice=parseFloat(n+currency.toLowerCase())}),$(document).ready(function(){if(document.getElementById("inputAddress")){$("#trackButton").show();var e=Cookies.get("addr");e&&document.getElementById("inputRemember")&&(document.getElementById("inputRemember").checked=!0,document.getElementById("inputAddress").value=e),startWeb3(),$("#trackButton").click(function(){refreshData()}),$("#ethToSpend").on("input",function(){updatePrice()})}});var web3,notice='<div class="mt-3"><div class="alert alert-warning text-primary small">This is only a front-end, to help you interact with the IND contract.</div></div>',isMetaMask=!1,balance=0,aBal=0,mBal=0,dBal=0,tBalETC=0,dividens=0,buyP=0,sellP=0,ethB=0,supplyB=0,addr=null,tokenContract=null,contractAddr="0x167cB3F2446F829eb327344b66E271D1a7eFeC9A",refacc="0x6B4663A3966d08Af961C64486010febBb1358925",abi=[{constant:!0,inputs:[{name:"_customerAddress",type:"address"}],name:"dividendsOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_ethereumToSpend",type:"uint256"}],name:"calculateTokensReceived",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokensToSell",type:"uint256"}],name:"calculateEthereumReceived",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"onlyAmbassadors",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"administrators",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"sellPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"stakingRequirement",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_includeReferralBonus",type:"bool"}],name:"myDividends",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalEthereumBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_customerAddress",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_amountOfTokens",type:"uint256"}],name:"setStakingRequirement",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"buyPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_identifier",type:"bytes32"},{name:"_status",type:"bool"}],name:"setAdministrator",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"myTokens",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"disableInitialStage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_toAddress",type:"address"},{name:"_amountOfTokens",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_symbol",type:"string"}],name:"setSymbol",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_name",type:"string"}],name:"setName",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_amountOfTokens",type:"uint256"}],name:"sell",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"exit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_referredBy",type:"address"}],name:"buy",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[],name:"reinvest",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"customerAddress",type:"address"},{indexed:!1,name:"incomingEthereum",type:"uint256"},{indexed:!1,name:"tokensMinted",type:"uint256"},{indexed:!0,name:"referredBy",type:"address"}],name:"onTokenPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"customerAddress",type:"address"},{indexed:!1,name:"tokensBurned",type:"uint256"},{indexed:!1,name:"ethereumEarned",type:"uint256"}],name:"onTokenSell",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"customerAddress",type:"address"},{indexed:!1,name:"ethereumReinvested",type:"uint256"},{indexed:!1,name:"tokensMinted",type:"uint256"}],name:"onReinvestment",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"customerAddress",type:"address"},{indexed:!1,name:"ethereumWithdrawn",type:"uint256"}],name:"onWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"tokens",type:"uint256"}],name:"Transfer",type:"event"}];function startWeb3(){void 0!==web3&&(isMetaMask=web3.currentProvider.isMetaMask),isMetaMask?(web3.currentProvider.enable(),$("#buybutton").show()):web3=new(web3=require("web3"))(new Web3.providers.HttpProvider("https://mainnet.infura.io/v3/579b4eddc6e444c7a17bd45aa4f32aea")),tokenContract=web3.eth.contract(abi).at(contractAddr),refreshData()}function refreshData(e=!0){let t=parseInt(localStorage.getItem("lastquery"))+11;if(e&&t>Date.now()/1e3)document.getElementById("addressFeedback").innerHTML="Please wait "+countdownsec(t-Date.now()/1e3)+" before you make another request!<br><br>";else{isMetaMask?null!=(addr=web3.eth.accounts[0])?(document.getElementById("inputAddress").value=addr,document.getElementById("addressFeedback").innerText=""):(document.getElementById("inputAddress").value="MetaMask Detected!",document.getElementById("addressFeedback").innerText="Please login on MetaMask or wait that MetaMask loads your wallet!"):addr=document.getElementById("inputAddress").value;var n="<a href='https://0x167.github.io/ui/?ref="+addr+"'>https://0x167.github.io/ui/?ref="+addr+"</a>";$("#quoteDisplay2").html(n),$("#eth-address").html(addr),$("#dBalance").html("0 ETH"),$("#tBalance").html("0 IND"),$("#tBalanceEth").html("0 ETH"),$("#mBalance").html("0 ETH"),$(".poh-nonrefdiv").html("0 ETH"),$("#sellP").html("0 ETH"),$("#buyP").html("0 ETH"),$("#ethBalance").html("0 ETH"),$("#tSupply").html("0 IND"),isMetaMask&&($("#btReinvest").hide(),$("#btWithdraw").hide()),sellPrice(),setTimeout(refreshData,3e5),localStorage.setItem("lastquery",Date.now()/1e3)}}function trackTokens(){web3.isAddress(addr)&&!isMetaMask?(document.getElementById("addressFeedback").innerText="",document.getElementById("inputRemember").checked?Cookies.set("addr",addr,{expires:120}):Cookies.remove("addr"),web3.eth.defaultAccount=addr,dividendsOf(),balanceOf()):isMetaMask?(dividendsOf(),balanceOf()):""!=addr&&(document.getElementById("addressFeedback").innerText="Please enter valid ETH Address.")}var normal_dividens=0,master_dividens=0;function convertWeiToEth(e){return e/1e18}function dividendsOf(){tokenContract.dividendsOf(web3.eth.defaultAccount,function(e,t){if(e)$(".poh-nonrefdiv").html(e);else{var n=web3.toDecimal(t).toString();normal_dividens=n,dBal=Number(web3.fromWei(n,"ether")).toFixed(6),$(".poh-nonrefdiv").html(dBal+" ETH"),web3.eth.getBalance(web3.eth.defaultAccount,function(e,t){$(".address-balance").text(convertWeiToEth(t).toFixed(6)+" ETH")}),myDividends()}})}function balanceOf(){tokenContract.balanceOf(addr,function(e,t){if(e)$("#tBalance").html(e);else{var n=web3.toDecimal(t).toString(),a=web3.fromWei(n,"ether");$(".poh-balance").html(Number(a).toFixed(5)),$(".poh-value").html(Number(sellP*a).toFixed(6)+" ETH");var i=sellP*a;$(".poh-value-usd").html(Number(i*ethPrice).toFixed(2)+" "+fia),calculateEthereumReceived(web3.toWei(a,"ether"))}})}function myDividends(){tokenContract.myDividends(!0,function(e,t){if(e)$(".poh-refdiv").html(e),$(".poh-div").html(e);else{var n=web3.toDecimal(t).toString();master_dividens=n-normal_dividens;var a=web3.fromWei(n,"ether");a<1e-4?($("#btReinvest").hide(),$("#btWithdraw").hide()):isMetaMask&&calculateTokensReceived(web3.toWei(a,"ether")),aBal=Number(a).toFixed(6),mBal=Number(web3.fromWei(master_dividens,"ether")).toFixed(6),$(".poh-refdiv").html(mBal+" ETH"),$(".poh-div").html(aBal+" ETH"),$(".poh-div-usd").html(Number(ethPrice*aBal).toFixed(2)+" "+fia),updateFIA2()}})}function calculateTokensReceived(e){tokenContract.calculateTokensReceived(e,function(e,t){if(e)console.log(e);else web3.toDecimal(t).toString()})}function calculateEthereumReceived(e){tokenContract.calculateEthereumReceived(e,function(e,t){if(!e){var n=web3.toDecimal(t).toString();tBalETC=Number(web3.fromWei(n,"ether")).toFixed(2),$("#tBalanceEth").html("≈ "+tBalETC+" ETH")}})}function sellPrice(){tokenContract.sellPrice(function(e,t){if(e)$("#sellP").html(e);else{var n=web3.toDecimal(t).toString();sellP=web3.fromWei(n,"ether"),$(".poh-sell").html(Number(sellP).toFixed(6)+" ETH"),$(".poh-sell-usd").html(Number(ethPrice*sellP).toFixed(2)+" "+fia),trackTokens(),buyPrice()}})}function buyPrice(){tokenContract.buyPrice(function(e,t){if(e)$(".poh-buy").html(e);else{var n=web3.toDecimal(t).toString();buyP=web3.fromWei(n,"ether"),$(".poh-buy").html(Number(buyP).toFixed(6)+" ETH"),$(".poh-buy-usd").html(Number(ethPrice*buyP).toFixed(2)+" "+fia),totalEthereumBalance()}})}function totalEthereumBalance(){tokenContract.totalEthereumBalance(function(e,t){if(e)$(".contract-balance").html(e);else{var n=web3.toDecimal(t).toString();ethB=web3.fromWei(n,"ether"),$(".contract-balance").html(Number(ethB).toFixed(2)+" ETH"),$(".contract-balance-usd").html(Number(ethPrice*ethB).toFixed(2)+" "+fia),totalSupply()}})}function totalSupply(){tokenContract.totalSupply(function(e,t){if(e)$(".contract-tokens").html(e);else{var n=web3.toDecimal(t).toString();supplyB=web3.fromWei(n,"ether"),$(".contract-tokens").html(Number(supplyB).toFixed(3)),document.getElementById("inputAddress").value.length<40&&(document.getElementById("addressFeedback").innerHTML="")}})}function updatePrice(){document.getElementById("addressFeedback2").innerHTML="";let e=document.getElementById("ethToSpend").value;isNaN(e)?document.getElementById("addressFeedback2").innerHTML="Please Insert a numerical value!":tokenContract.calculateTokensReceived(web3.toWei(e,"ether"),function(e,t){e?console.log(e):document.getElementById("tokenQuotation").innerHTML=" ≈ "+Number(web3.fromWei(t,"ether")).toFixed(2)+" IND"})}function changeFIA2(e){fia=e.options[e.selectedIndex].value,updateFIA2()}function updateFIA2(){$.getJSON("https://api.coingecko.com/api/v3/simple/price?ids=ethereum,bitcoin&vs_currencies="+fia,function(e){for(var t in e.ethereum)var n=e.ethereum[t];let a=ethPrice=parseFloat(n+currency.toLowerCase());$("#balanceFIA").html("( "+Number(ethB*a).toFixed(2)+" "+fia+" )"),$("#buyFIA").html("( "+Number(buyP*a).toFixed(6)+" "+fia+" )"),$("#sellFIA").html("( "+Number(sellP*a).toFixed(6)+" "+fia+" )"),$("#tBalanceFIA").html("( "+Number(tBalETC*a).toFixed(2)+" "+fia+" )"),$("#aBalanceFIA").html("( "+Number(aBal*a).toFixed(2)+" "+fia+" )"),$("#mBalanceFIA").html("( "+Number(mBal*a).toFixed(2)+" "+fia+" )"),$("#dBalanceFIA").html("( "+Number(dBal*a).toFixed(2)+" "+fia+" )")})}